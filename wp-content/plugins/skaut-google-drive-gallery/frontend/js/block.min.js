jQuery( function( $ ) {
!function(){"use strict";var t,e=wp.blocks,r=wp.element,o=(t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){return(0,r.createElement)("svg",{viewBox:"0 0 128 128"},[(0,r.createElement)("path",{d:"M46.18,25.13c9.68,0,13.17,10.2,19.86,10.2h40a9.25,9.25,0,0,1,7.23,7.23V95.65a9.24,9.24,0,0,1-7.23,7.22H21.94a9.24,9.24,0,0,1-7.23-7.22V32.35a9.24,9.24,0,0,1,7.23-7.22H46.18Z",fill:"#fff"}),(0,r.createElement)("path",{d:"M46.18,27.13c9.68,0,13.17,10.2,19.86,10.2h38a7.25,7.25,0,0,1,7.23,7.23V93.65a7.24,7.24,0,0,1-7.23,7.22H23.94a7.24,7.24,0,0,1-7.23-7.22V34.35a7.24,7.24,0,0,1,7.23-7.22H46.18m0-6.44H23.94A13.69,13.69,0,0,0,10.27,34.35v59.3a13.69,13.69,0,0,0,13.67,13.66h80.12a13.69,13.69,0,0,0,13.67-13.66V44.56A13.69,13.69,0,0,0,104.06,30.9H66c-.6,0-2.65-1.81-3.75-2.79C58.75,25,53.9,20.69,46.18,20.69Z",fill:"#4385f4"}),(0,r.createElement)("image",{width:"47",height:"38",transform:"translate(23.15 57.15)",opacity:"0.5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAmCAYAAABUKMJkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVRYR+2ZLQ7CQBBGXzc9RAUWNIKrIEjQoBCcBIFCg+MqnACFqNhDNFnE/rS0CcgZknlJTbNN3k6m5vuqEAIAi9u+BhqgRicd4J/bS5dfVCGELL4EzsQLaMQDR6AlXSJPuSGKr9A7+RlwB17ABmir+XVXE6Xv6YB2WmANPBxx6if0rsuY4uuIa6L5Rx1TfN2vk5oxeSlMXgqTl8LkpTB5KUxeCpOXwuSlMHkpTF4Kk5fC5KX4e/mOGB+X3Fs5xdfR597+6yd6KL4uNQ1terRPv7gOywUPHOibEU3J8XCts6eHVOvApJPSlNkP1/qjlyryQ5SVa5MiLfMG2TdPlJH519AAAAAASUVORK5CYII="}),(0,r.createElement)("rect",{x:"25.77",y:"59.3",width:"41.66",height:"32.91",rx:"3.99",fill:"#fff"}),(0,r.createElement)("path",{d:"M63.44,60.25a3.05,3.05,0,0,1,3,3V88.21a3.05,3.05,0,0,1-3,3H29.76a3.05,3.05,0,0,1-3-3V63.29a3.05,3.05,0,0,1,3-3H63.44m0-1.9H29.76a4.94,4.94,0,0,0-4.94,4.94V88.21a5,5,0,0,0,4.94,5H63.44a5,5,0,0,0,4.94-5V63.29a4.94,4.94,0,0,0-4.94-4.94Z",fill:"#25a366"}),(0,r.createElement)("polygon",{points:"52.39 65.19 42.78 80.5 38.22 73.47 27.13 89.98 28.71 91.25 64.4 91.25 66.07 90.05 52.39 65.19",fill:"#25a366"}),(0,r.createElement)("image",{width:"46",height:"38",transform:"translate(57.15 46.15)",opacity:"0.5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAmCAYAAAC76qlaAAAACXBIWXMAAAsSAAALEgHS3X78AAABAElEQVRYR+3ZoW3EMBSH8V+sDBEQ0BGyx03QEQoOdJIDBzpCQfFtUZARCg5kiEgucHyK1ErHLEfyR2xZBt97sQL+r4sxAvOpx4BefaxYTLc1H3Qxxiw94SrJ18aCd9xtBfQ76Y9trbHjI77wg1fc8/O4qlea5DVu+9F8WgJetsNapfcMuGAI+FTnu/6Pxw9k/wkORXh2oVaaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmCFN0+cuejEKTYdnl2sRJSwM8apMz5CF1fMeOMJUgVnPGt3gKy9Btm023dj1IGKbm9qC92zs2d8xyoewyvqHmA9Wd49QviUUIit/OkSAAAAABJRU5ErkJggg=="}),(0,r.createElement)("rect",{x:"58.97",y:"48.62",width:"41.66",height:"32.9",rx:"3.99",fill:"#fff"}),(0,r.createElement)("path",{d:"M96.64,49.57a3,3,0,0,1,3,3V77.53a3,3,0,0,1-3,3H63a3.05,3.05,0,0,1-3-3V52.61a3,3,0,0,1,3-3H96.64m0-1.91H63a5,5,0,0,0-5,5V77.53a5,5,0,0,0,5,4.94H96.64a4.94,4.94,0,0,0,4.94-4.94V52.61a5,5,0,0,0-4.94-5Z",fill:"#ffcf4a"}),(0,r.createElement)("circle",{cx:"79.8",cy:"63.89",r:"5.32",fill:"#ffcf4a"}),(0,r.createElement)("path",{d:"M69.24,80.82c1-5.48,4.49-9.54,8.55-9.54h4c4.06,0,7.51,4.06,8.55,9.54Z",fill:"#ffcf4a"}),(0,r.createElement)("circle",{cx:"93.24",cy:"61.06",r:"3.21",fill:"#ffcf4a"}),(0,r.createElement)("path",{d:"M86.87,71.28C87.5,68,89.58,65.53,92,65.53h2.42c2.45,0,4.54,2.44,5.16,5.75Z",fill:"#ffcf4a"}),(0,r.createElement)("circle",{cx:"66.35",cy:"61.06",r:"3.21",fill:"#ffcf4a"}),(0,r.createElement)("path",{d:"M60,71.28c.63-3.31,2.71-5.75,5.16-5.75h2.42c2.45,0,4.53,2.44,5.16,5.75Z",fill:"#ffcf4a"})])},e}(r.Component),i=wp.blockEditor,a=wp.editor;var s=wp.components,c=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=function(t){function e(e){var r=t.call(this,e)||this,o=r.props.editor.getAttribute(r.props.name);return void 0===o&&(o=sgdgBlockLocalize[r.props.name].default),r.state={value:o},r}return c(e,t),e.prototype.render=function(){var t=this,e=void 0===this.props.editor.getAttribute(this.props.name);return(0,r.createElement)("div",{className:"sgdg-block-settings-row "},[(0,r.createElement)(s.ToggleControl,{checked:!e,className:"sgdg-block-settings-checkbox",onChange:function(){t.toggle()}}),(0,r.createElement)("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[this.props.name].name,":"]),this.renderInput()])},e.prototype.change=function(t){var e=this.getValue(t.target);this.setState({value:e}),this.props.editor.setAttribute(this.props.name,void 0===e?sgdgBlockLocalize[this.props.name].default:e)},e.prototype.toggle=function(){this.props.editor.setAttribute(this.props.name,void 0!==this.props.editor.getAttribute(this.props.name)?void 0:this.state.value)},e}(r.Component),p=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.renderInput=function(){var t=this,e=void 0===this.props.editor.getAttribute(this.props.name);return(0,r.createElement)("input",{checked:"true"===this.state.value,className:"sgdg-block-settings-boolean",disabled:e,onChange:function(e){t.change(e)},type:"checkbox"})},e.prototype.getValue=function(t){return t.checked?"true":"false"},e}(l),d=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.renderInput=function(){var t=this,e=void 0===this.props.editor.getAttribute(this.props.name);return(0,r.createElement)("input",{className:"sgdg-block-settings-integer components-range-control__number",disabled:e,onChange:function(e){t.change(e)},placeholder:sgdgBlockLocalize[this.props.name].default,type:"number",value:this.state.value})},e.prototype.getValue=function(t){var e=parseInt(t.value);if(!isNaN(e))return e},e}(l),h=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=function(t){function e(e){var r=t.call(this,e)||this,o=r.props.editor.getAttribute(r.props.name+"_by"),n=r.props.editor.getAttribute(r.props.name+"_order");return void 0===o&&(o=sgdgBlockLocalize[r.props.name].default_by),void 0===n&&(n=sgdgBlockLocalize[r.props.name].default_order),r.state={valueBy:o,valueOrder:n},r}return h(e,t),e.prototype.render=function(){var t=this,e=void 0===this.props.editor.getAttribute(this.props.name+"_by"),o=void 0===this.props.editor.getAttribute(this.props.name+"_order"),n=this.state.valueBy,i=this.state.valueOrder;return(0,r.createElement)("div",{className:"sgdg-block-settings-row"},[(0,r.createElement)(s.ToggleControl,{checked:!e&&!o,className:"sgdg-block-settings-checkbox",onChange:function(){t.toggle()}}),(0,r.createElement)("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[this.props.name].name,":"]),(0,r.createElement)("select",{className:"sgdg-block-settings-select",disabled:o,onChange:function(e){t.changeOrder(e)},placeholder:sgdgBlockLocalize[this.props.name].default_order,type:"number",value:i},[(0,r.createElement)("option",{selected:"ascending"===i,value:"ascending"},sgdgBlockLocalize.ordering_option_ascending),(0,r.createElement)("option",{selected:"descending"===i,value:"descending"},sgdgBlockLocalize.ordering_option_descending)]),(0,r.createElement)("label",{className:"sgdg-block-settings-radio",for:this.props.name+"_by_time"},[(0,r.createElement)("input",{checked:"time"===n,disabled:e,id:this.props.name+"_by_time",name:this.props.name+"_by",onChange:function(e){t.changeBy(e)},type:"radio",value:"time"}),sgdgBlockLocalize.ordering_option_by_time]),(0,r.createElement)("label",{className:"sgdg-block-settings-radio",for:this.props.name+"_by_name"},[(0,r.createElement)("input",{checked:"name"===n,disabled:e,id:this.props.name+"_by_name",name:this.props.name+"_by",onChange:function(e){t.changeBy(e)},type:"radio",value:"name"}),sgdgBlockLocalize.ordering_option_by_name])])},e.prototype.toggle=function(){this.props.editor.setAttribute(this.props.name+"_by",void 0!==this.props.editor.getAttribute(this.props.name+"_by")?void 0:this.state.valueBy),this.props.editor.setAttribute(this.props.name+"_order",void 0!==this.props.editor.getAttribute(this.props.name+"_order")?void 0:this.state.valueOrder)},e.prototype.changeBy=function(t){var e=t.target;this.setState({valueBy:e.value}),this.props.editor.setAttribute(this.props.name+"_by",e.value)},e.prototype.changeOrder=function(t){var e=t.target;this.setState({valueOrder:e.value}),this.props.editor.setAttribute(this.props.name+"_order",e.value)},e}(r.Component),m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.render=function(){return(0,r.createElement)(s.PanelBody,{title:sgdgBlockLocalize.settings_override,className:"sgdg-block-settings",children:[(0,r.createElement)("h3",null,sgdgBlockLocalize.grid_section_name),(0,r.createElement)(g,{editor:this.props.editor,name:"grid_height"}),(0,r.createElement)(g,{editor:this.props.editor,name:"grid_spacing"}),(0,r.createElement)(u,{editor:this.props.editor,name:"dir_counts"}),(0,r.createElement)(g,{editor:this.props.editor,name:"page_size"}),(0,r.createElement)(u,{editor:this.props.editor,name:"page_autoload"}),(0,r.createElement)(f,{editor:this.props.editor,name:"image_ordering"}),(0,r.createElement)(f,{editor:this.props.editor,name:"dir_ordering"}),(0,r.createElement)("h3",null,sgdgBlockLocalize.lightbox_section_name),(0,r.createElement)(g,{editor:this.props.editor,name:"preview_size"}),(0,r.createElement)(u,{editor:this.props.editor,name:"preview_loop"})]})},e}(r.Component),_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),b=function(t){function e(e){var r=t.call(this,e)||this;return r.state={error:void 0,list:void 0},r}return _(e,t),e.prototype.componentDidMount=function(){this.ajax()},e.prototype.render=function(){var t,e=this,o=null!==(t=i.InspectorControls)&&void 0!==t?t:a.InspectorControls;if(void 0!==this.state.error)return(0,r.createElement)("div",{class:"notice notice-error"},(0,r.createElement)("p",null,this.state.error));var n=[],s=this.getAttribute("path"),c=[(0,r.createElement)("a",{onClick:function(t){e.pathClick(t)}},sgdgBlockLocalize.root_name)];if(this.state.list){0<s.length&&n.push((0,r.createElement)("tr",null,(0,r.createElement)("td",{class:"row-title"},(0,r.createElement)("label",{onClick:function(t){e.labelClick(t)}},".."))));for(var l=0;l<this.state.list.length;l++){var p=0===s.length&&1==l%2||0<s.length&&0==l%2?"alternate":"";n.push((0,r.createElement)("tr",{class:p},(0,r.createElement)("td",{class:"row-title"},(0,r.createElement)("label",{onClick:function(t){e.labelClick(t)}},this.state.list[l]))))}for(var u=0,d=s;u<d.length;u++){var g=d[u];c.push(" > "),c.push((0,r.createElement)("a",{"data-id":g,onClick:function(t){e.pathClick(t)}},g))}}return(0,r.createElement)(r.Fragment,null,[(0,r.createElement)(o,null,(0,r.createElement)(y,{editor:this})),(0,r.createElement)("table",{class:"widefat"},[(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",{class:"sgdg-block-editor-path"},c))),(0,r.createElement)("tbody",null,n),(0,r.createElement)("tfoot",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",{class:"sgdg-block-editor-path"},c)))])])},e.prototype.getAttribute=function(t){return this.props.attributes[t]},e.prototype.setAttribute=function(t,e){var r={};r[t]=e,this.props.setAttributes(r)},e.prototype.ajax=function(){var t=this;$.get(sgdgBlockLocalize.ajax_url,{_ajax_nonce:sgdgBlockLocalize.nonce,action:"list_gallery_dir",path:this.getAttribute("path")},(function(e){!function(t){return"error"in t}(e)?t.setState({list:e.directories}):t.setState({error:e.error})}))},e.prototype.pathClick=function(t){var e=this,r=this.getAttribute("path");r=r.slice(0,r.indexOf($(t.currentTarget).data("id"))+1),this.setAttribute("path",r),this.setState({error:void 0,list:void 0},(function(){e.ajax()}))},e.prototype.labelClick=function(t){var e=this,r=$(t.currentTarget).text(),o=this.getAttribute("path");o=".."===r?o.slice(0,o.length-1):o.concat(r),this.setAttribute("path",o),this.setState({error:void 0,list:void 0},(function(){e.ajax()}))},e}(r.Component);(0,e.registerBlockType)("skaut-google-drive-gallery/gallery",{title:sgdgBlockLocalize.block_name,description:sgdgBlockLocalize.block_description,category:"media",icon:n,attributes:{path:{type:"array",default:[]},grid_height:{type:"number"},grid_spacing:{type:"number"},dir_counts:{type:"string"},page_size:{type:"number"},page_autoload:{type:"string"},image_ordering_order:{type:"string"},image_ordering_by:{type:"string"},dir_ordering_order:{type:"string"},dir_ordering_by:{type:"string"},preview_size:{type:"number"},preview_loop:{type:"string"}},edit:b,save:function(){return null},transforms:{from:[{type:"shortcode",tag:"sgdg",priority:15,attributes:{path:{type:"string",shortcode:function(t){return t.named.path?t.named.path.replace(/^\/+|\/+$/g,"").split("/"):[]}}}}]}})}();} );
